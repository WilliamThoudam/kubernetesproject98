!function r(d,a,s){function f(t,e){if(!a[t]){if(!d[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var i=a[t]={exports:{}};d[t][0].call(i.exports,function(e){return f(d[t][1][e]||e)},i,i.exports,r,d,a,s)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)f(s[e]);return f}({1:[function(e,t,n){(function(e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o="undefined"!=typeof window?window.peepso:void 0!==e?e.peepso:null,i="undefined"!=typeof window?window.peepsodata:void 0!==e?e.peepsodata:null;var t={sendRequest:function(t){var e={uid:i.currentuserid,user_id:t};return o.ajax.post("friendsajax.send_request",e).then(function(e){e.success&&o.hooks.doAction("friend_request_sent",t,e.data)})},cancelRequest:function(t,e){var n={uid:i.currentuserid,user_id:t,request_id:e,action:"cancel"};return o.ajax.post("friendsajax.cancel_request",n).then(function(e){e.success&&o.hooks.doAction("friend_request_canceled",t,e.data)})},acceptRequest:function(t,e){var n={uid:i.currentuserid,user_id:t,request_id:e};return o.ajax.post("friendsajax.accept_request",n).then(function(e){e.success&&o.hooks.doAction("friend_request_accepted",t,e.data)})},rejectRequest:function(t,e){var n={uid:i.currentuserid,user_id:t,request_id:e,action:"ignore"};return o.ajax.post("friendsajax.cancel_request",n).then(function(e){e.success&&o.hooks.doAction("friend_request_rejected",t,e.data)})},remove:function(t){var e={uid:i.currentuserid,user_id:t};return o.ajax.post("friendsajax.remove_friend",e).then(function(e){e.success&&o.hooks.doAction("friend_removed",t,e.data)})},follow:function(t){var e={uid:i.currentuserid,user_id:t,follow:1};return o.ajax.post("friendsajax.set_follow_status",e).then(function(e){e.success&&o.hooks.doAction("friend_followed",t,e.data)})},unfollow:function(t){var e={uid:i.currentuserid,user_id:t,follow:0};return o.ajax.post("friendsajax.set_follow_status",e).then(function(e){e.success&&o.hooks.doAction("friend_unfollowed",t,e.data)})}};n.default=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";e("./page-profile"),e("./page-members"),e("./notifications")},{"./notifications":3,"./page-members":4,"./page-profile":5}],3:[function(i,e,t){(function(e){"use strict";var r=o("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),t="undefined"!=typeof window?window.peepso:void 0!==e?e.peepso:null,n="undefined"!=typeof window?window.peepsodata:void 0!==e?e.peepsodata:null,d=o(i("./friends"));function o(e){return e&&e.__esModule?e:{default:e}}var a=n.friends&&n.friends.friend_requests_page,s=n.friends&&n.friends.template_notification_header;(0,r.default)(function(){var o=(0,r.default)(".ps-js-friends-notification"),i=o.find(".ps-js-counter");function e(e){var t=i.eq(0).html().trim();i.html(t-1),0<t-1?i.show():i.hide();var n=o.find(".ps-js-notification").filter('[data-user-id="'.concat(e,'"]')).parent();n.length&&n.fadeOut()}o.psnotification({source:"friendsajax.get_requests",view_all_link:a,header:s}),o.on("click",".ps-js-friend-accept-request",function(e){var t=(0,r.default)(e.currentTarget),n=t.data("user-id"),o=t.data("request-id");d.default.acceptRequest(n,o)}),o.on("click",".ps-js-friend-reject-request",function(e){var t=(0,r.default)(e.currentTarget),n=t.data("user-id"),o=t.data("request-id");d.default.rejectRequest(n,o)}),t.hooks.addAction("friend_request_accepted","friend_notification",e),t.hooks.addAction("friend_request_rejected","friend_notification",e)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./friends":1}],4:[function(o,e,t){(function(e){"use strict";var r=n("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),d="undefined"!=typeof window?window.peepso:void 0!==e?e.peepso:null,t="undefined"!=typeof window?window.peepsodata:void 0!==e?e.peepsodata:null,a=n(o("./friends"));function n(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f=t.friends&&t.friends.template_remove_friend;(0,r.default)(function(){var i=(0,r.default)(".ps-js-members");function e(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=i.find(".ps-js-member").filter('[data-user-id="'.concat(e,'"]')),o=t.actions;if(n.length){if(i.hasClass("ps-js-friend-requests"))return void n.fadeOut().remove();"string"==typeof o?n.find(".ps-js-member-actions-extra").html(t.actions):"object"===s(o)&&(o.primary&&n.find(".ps-js-member-actions").replaceWith(o.primary),o.secondary&&n.find(".ps-js-member-actions-extra").replaceWith(o.secondary),o.dropdown&&n.find(".ps-js-dropdown").replaceWith(o.dropdown))}}(i=i.add((0,r.default)(".ps-js-friends, .ps-js-friend-requests"))).length&&(i.on("click",".ps-js-friend-send-request",function(e){var t=(0,r.default)(e.currentTarget),n=t.find("img"),o=t.data("user-id");e.preventDefault(),e.stopPropagation(),n.show(),a.default.sendRequest(o).then(function(){n.hide()})}),i.on("click",".ps-js-friend-cancel-request",function(e){var t=(0,r.default)(e.currentTarget),n=t.find("img"),o=t.data("user-id"),i=t.data("request-id");e.preventDefault(),e.stopPropagation(),n.show(),a.default.cancelRequest(o,i).then(function(){n.hide()})}),i.on("click",".ps-js-friend-accept-request",function(e){var t=(0,r.default)(e.currentTarget),n=t.find("img"),o=t.data("user-id"),i=t.data("request-id");e.preventDefault(),e.stopPropagation(),n.show(),a.default.acceptRequest(o,i).then(function(){n.hide()})}),i.on("click",".ps-js-friend-reject-request",function(e){var t=(0,r.default)(e.currentTarget),n=t.find("img"),o=t.data("user-id"),i=t.data("request-id");e.preventDefault(),e.stopPropagation(),n.show(),a.default.rejectRequest(o,i).then(function(){n.hide()})}),i.on("click",".ps-js-friend-remove",function(e){var t=(0,d.dialog)(f).show(),n=(0,r.default)(e.currentTarget),o=n.find("img"),i=n.data("user-id");e.preventDefault(),e.stopPropagation(),t.$el.on("click",".ps-js-cancel",function(){return t.hide()}),t.$el.on("click",".ps-js-submit",function(){t.hide(),o.show(),a.default.remove(i).then(function(){o.hide()})})}),i.on("mouseenter",".ps-js-friend-remove",function(e){var t=(0,r.default)(e.currentTarget),n=t.find("span").last();n.data("html",n.html()),n.html(t.data("text-unfriend"))}),i.on("mouseleave",".ps-js-friend-remove",function(e){var t=(0,r.default)(e.currentTarget).find("span").last();t.html(t.data("html"))}),i.on("click",".ps-js-friend-follow, .ps-js-friend-unfollow",function(e){var t=(0,r.default)(e.currentTarget),n=t.find("img"),o=t.data("user-id"),i=t.hasClass("ps-js-friend-follow");e.preventDefault(),e.stopPropagation(),i?(n.show(),a.default.follow(o).then(function(){n.hide()})):(n.show(),a.default.unfollow(o).then(function(){n.hide()}))}),i.on("mouseenter",".ps-js-friend-follow, .ps-js-friend-unfollow",function(e){var t=(0,r.default)(e.currentTarget),n=t.find("span").last();n.data("html",n.html()),n.html(t.data("text-hover"))}),i.on("mouseleave",".ps-js-friend-follow, .ps-js-friend-unfollow",function(e){var t=(0,r.default)(e.currentTarget).find("span").last();t.html(t.data("html"))}),d.hooks.addAction("friend_request_sent","page_members",e),d.hooks.addAction("friend_request_canceled","page_members",e),d.hooks.addAction("friend_request_accepted","page_members",e),d.hooks.addAction("friend_request_rejected","page_members",e),d.hooks.addAction("friend_removed","page_members",e),d.hooks.addAction("friend_followed","page_members",e),d.hooks.addAction("friend_unfollowed","page_members",e))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./friends":1}],5:[function(f,e,t){(function(e){"use strict";var r=n("undefined"!=typeof window?window.jQuery:void 0!==e?e.jQuery:null),d="undefined"!=typeof window?window.peepso:void 0!==e?e.peepso:null,t="undefined"!=typeof window?window.peepsodata:void 0!==e?e.peepsodata:null,a=n(f("./friends"));function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=t.profile&&+t.profile.id,s=t.friends&&t.friends.template_remove_friend;(0,r.default)(function(){var n=(0,r.default)(".ps-js-focus--profile");function e(e){var t;+e===i&&("string"==typeof(t=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).actions)?n.find(".ps-js-profile-actions-extra").html(t):"object"===o(t)&&(t.primary_profile&&n.find(".ps-js-focus-actions").html(t.primary_profile),t.secondary_profile&&n.find(".ps-js-profile-actions-extra").html(t.secondary_profile)))}n.length&&(n.on("click",".ps-js-friend-send-request",function(e){var t=(0,r.default)(e.currentTarget),n=t.find("img"),o=t.data("user-id");e.preventDefault(),e.stopPropagation(),n.show(),a.default.sendRequest(o).then(function(){n.hide()})}),n.on("click",".ps-js-friend-cancel-request",function(e){var t=(0,r.default)(e.currentTarget),n=t.find("img"),o=t.data("user-id"),i=t.data("request-id");e.preventDefault(),e.stopPropagation(),n.show(),a.default.cancelRequest(o,i).then(function(){n.hide()})}),n.on("click",".ps-js-friend-accept-request",function(e){var t=(0,r.default)(e.currentTarget),n=t.find("img"),o=t.data("user-id"),i=t.data("request-id");e.preventDefault(),e.stopPropagation(),n.show(),a.default.acceptRequest(o,i).then(function(){n.hide()})}),n.on("click",".ps-js-friend-reject-request",function(e){var t=(0,r.default)(e.currentTarget),n=t.find("img"),o=t.data("user-id"),i=t.data("request-id");e.preventDefault(),e.stopPropagation(),n.show(),a.default.rejectRequest(o,i).then(function(){n.hide()})}),n.on("click",".ps-js-friend-remove",function(e){var t=(0,d.dialog)(s).show(),n=(0,r.default)(e.currentTarget),o=n.find("img"),i=n.data("user-id");e.preventDefault(),e.stopPropagation(),t.$el.on("click",".ps-js-cancel",function(){return t.hide()}),t.$el.on("click",".ps-js-submit",function(){t.hide(),o.show(),a.default.remove(i).then(function(){o.hide()})})}),n.on("mouseenter",".ps-js-friend-remove",function(e){var t=(0,r.default)(e.currentTarget),n=t.find("span").last();n.data("html",n.html()),n.html(t.data("text-unfriend"))}),n.on("mouseleave",".ps-js-friend-remove",function(e){var t=(0,r.default)(e.currentTarget).find("span").last();t.html(t.data("html"))}),n.on("click",".ps-js-friend-follow, .ps-js-friend-unfollow",function(e){var t=(0,r.default)(e.currentTarget),n=t.find("img"),o=t.data("user-id"),i=t.hasClass("ps-js-friend-follow");e.preventDefault(),e.stopPropagation(),i?(n.show(),a.default.follow(o).then(function(){n.hide()})):(n.show(),a.default.unfollow(o).then(function(){n.hide()}))}),n.on("mouseenter",".ps-js-friend-follow, .ps-js-friend-unfollow",function(e){var t=(0,r.default)(e.currentTarget),n=t.find("span").last();n.data("html",n.html()),n.html(t.data("text-hover"))}),n.on("mouseleave",".ps-js-friend-follow, .ps-js-friend-unfollow",function(e){var t=(0,r.default)(e.currentTarget).find("span").last();t.html(t.data("html"))}),d.hooks.addAction("friend_request_sent","page_profile",e),d.hooks.addAction("friend_request_canceled","page_profile",e),d.hooks.addAction("friend_request_accepted","page_profile",e),d.hooks.addAction("friend_request_rejected","page_profile",e),d.hooks.addAction("friend_removed","page_profile",e),d.hooks.addAction("friend_followed","page_profile",e),d.hooks.addAction("friend_unfollowed","page_profile",e))})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./friends":1}]},{},[2]);